#content
  .outer
    .inner
      <!--Begin Datatables-->
      .row
        .col-lg-12
          .box
            header
              .icons
                i.fa.fa-table
              h5 活动类型管理
              button.dl_btn.dl_btn_right(data-toggle="modal" data-target="#addMoldModal") 增加活动类型
              button.dl_btn.dl_btn_right.pull-right(ng-show="!edit" ng-click="edit=true;") 编辑
              butoon.dl_btn.dl_btn_right.pull-right(ng-show="edit" ng-click="save();edit=false;") 保存
            #collapse4.body.table_all
              table(datatable)#dataTable.table.table-bordered.table-condensed.table-hover.table-striped
                thead
                  tr
                    th 活动类型\组件
                    th(ng-repeat="component in components")
                      input(type="checkbox" ng-model="component.value" ng-change="changeall(component._id)")
                      label {{component.note}}
                    th 其它
                    th 操作
                tbody
                  tr(ng-repeat="mold in molds")
                    td {{mold.name}}
                    td(ng-repeat="module in mold.components")
                      input(type="checkbox" ng-model="module.value")
                      label {{module.note}}
                    td
                      p(ng-repeat="module in mold.otherModules")
                        button 删除
                        label {{module.name}}
                    td
                      button.btn.btn-xs.btn-warning(ng-show="mold.enable" ng-click="activate($index,false)") 禁用
                      button.btn.btn-xs.btn-success(ng-show="!mold.enable" ng-click="activate($index,true)") 启用
                      button.btn.btn-xs.btn-danger(ng-click="delete($index)") 删除
.modal.fade#addMoldModal(tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true")
  .modal-dialog
    .dl-modal
      form.form-horizontal.clearfix(name="moldForm")
        .dl-modal-header
          button(type="button" class="close" data-dismiss="modal" aria-hidden="true") X
          h4.modal-title#myModalLabel 增加活动类型
        .dl-modal-body.clearfix
          .dl_modal_container.clearfix
            .info_side
              span.info_label 活动名:
            .info_detail
              input.dl_form_control(ng-model="newMold" required)
        .dl-modal-footer
          button.dl_btn.dl_btn_large(ng-disabled="moldForm.$invalid" ng-click="addMold()" data-dismiss="modal") 确定

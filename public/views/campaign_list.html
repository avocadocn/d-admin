<div>
  <div class="row">
    <div class="col-md-6">
      <h1>活动列表</h1>
    </div>
    <div class="col-md-6">
    </div>
  </div>
  <ol>
    <div>
      <li ng-repeat="campaign_item in campaign.campaigns" >
        <h2>{{ campaign_item.content }}</h2>
        <p>小组: {{ campaign_item.gid}}</p>
        <p>参加活动人数：{{ campaign_item.member.length }}</p>
        <p>创建时间: {{ campaign_item.create_time}}</p>
        <p>开始时间: {{ campaign_item.start_time }}</p>
        <p>结束时间: {{ campaign_item.end_time }}</p>
        <p>是否参加: {{ campaign_item.join}}</p>
        <p>活动是否关闭: {{ campaign_item.active}} </p>
        <a ng-if="campaign_item.provoke.active" ng-href="/group/competition/{{campaign_item.provoke.competition_id}}">详情</a>
        <div class="row">
          <div ng-switch on="{{campaign_item.join}}" ng-if="campaign_item.active" class="col-md-2">
            <input type = "button"  class="btn btn-primary btn-lg" value = "退出" ng-click="quit(campaign_item.id)" ng-switch-when="true"/>
            <input type = "button"  class="btn btn-primary btn-lg" value = "参加" ng-click="join(campaign_item.id)" ng-switch-default/>
          </div>

          <input type = "button"  class="btn btn-primary btn-lg col-md-1" ng-if="campaign.show" value = "{{ campaign_item.active_value}}" ng-click="cancel(campaign_item.id)" />

          <input type = "button"  class="btn btn-primary btn-lg col-md-1" ng-if="campaign.show" value = "编辑" ng-click="getId(campaign_item.id)" data-toggle="modal" data-target="#editModel"/>
        </div>
      </li>
    </div>
  </ol>
</div>

<!-- Modal -->
<div class="modal fade" id="sponsorProvokeModel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">发起挑战</h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <label>挑战内容
            <input type="text" class="form-control" name="content" ng-model="content">
          </label>
          <label>赛制
            <input type="text" class="form-control" name="competition_format" ng-model="competition_format">
          </label>
          <label>备注
            <input type="text" class="form-control" name="remark" ng-model="remark">
          </label>
          <label>地点
            <input type="text" class="form-control" name="location" ng-model="location">
          </label>
          <label>人数
            <input type="text" class="form-control" name="number" ng-model="number">
          </label>
          <label>比赛时间
            <input type="text" class="form-control" name="competition_date" ng-model="competition_date">
          </label>
          <label>截止时间
            <input type="text" class="form-control" name="deadline" ng-model="deadline">
          </label>
        </div>
        <div class="row">
            <li ng-repeat="company in campaign.companies">
              <hr/>
              <p>公司id: {{company.id}}</p>
              <p>公司名:{{company.name}}</p>
              <button ng-click="getTeam(company.id)">列出小组</button>

              <hr/>
            </li>
        </div>

        <a ng-click="provoke_select(campaign.teams.tname)">{{campaign.teams.tname}}</a>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
        <button type="button" class="btn btn-primary" ng-click='provoke()' data-dismiss="modal">确定</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<!-- Modal -->
<div class="modal fade" id="sponsorCampaignModel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">发起活动</h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <label>活动内容
            <input type="text" class="form-control" name="content" ng-model="content">
          </label>
          <label>开始时间
            <input type="text" class="form-control" name="start_time" ng-model="start_time">
          </label>
          <label>结束时间
            <input type="text" class="form-control" name="end_time" ng-model="end_time">
          </label>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
        <button type="button" class="btn btn-primary" ng-click='sponsor()' data-dismiss="modal">确定</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<div class="modal fade" id="editModel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">编辑活动</h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <label>活动内容
            <input type="text" class="form-control" name="content" ng-model="content">
          </label>
          <label>开始时间
            <input type="text" class="form-control" name="start_time" ng-model="start_time">
          </label>
          <label>结束时间
            <input type="text" class="form-control" name="end_time" ng-model="end_time">
          </label>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
        <button type="button" class="btn btn-primary" ng-click='editCampaign()' data-dismiss="modal">确定</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->